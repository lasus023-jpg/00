<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Kustomisasi Widget Utteranc.es</title>
  <style>
    /* Style untuk tata letak halaman */
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      line-height: 1.6;
      background-color: #f9f9f9;
      color: #333;
      transition: background-color 0.3s, color 0.3s;
    }

    .container {
      max-width: 800px;
      margin: 0 auto;
      padding: 20px;
      background: white;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      border-radius: 8px;
      transition: background-color 0.3s;
    }

    h1 {
      text-align: center;
      margin-bottom: 20px;
    }

    /* Kustomisasi Utterances */
    .utterances {
      margin-top: 30px;
      border: 1px solid #ddd;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    .utterances-frame {
      width: 100%;
      border: none;
      border-radius: inherit;
    }

    /* Tombol Mode Gelap/Terang */
    .theme-switch {
      display: flex;
      justify-content: center;
      margin-top: 20px;
    }

    .theme-switch button {
      padding: 10px 20px;
      font-size: 1rem;
      border: 2px solid #333;
      background: transparent;
      border-radius: 5px;
      cursor: pointer;
      transition: background-color 0.3s, color 0.3s;
    }

    .theme-switch button:hover {
      background-color: #333;
      color: #fff;
    }

    /* Gaya untuk Mode Gelap */
    body.dark {
      background-color: #1e1e1e;
      color: #f1f1f1;
    }

    .container.dark {
      background-color: #292929;
    }

    .theme-switch button.dark {
      border: 2px solid #f1f1f1;
      color: #f1f1f1;
    }

    .theme-switch button.dark:hover {
      background-color: #f1f1f1;
      color: #333;
    }

    .accordion-item.dark .accordion-header button {
      background-color: #333;
      color: #f1f1f1;
    }

    .accordion-item.dark .accordion-body {
      background-color: #444;
      color: #f1f1f1;
    }
  </style>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous">
  </script>
</head>
<body>
    <!-- Tombol untuk switch Tema -->
    <div class="theme-switch">
      <button id="theme-toggle" class="dark">üåô Mode Gelap</button>
    </div>

    <h4 class='m-5'>Accordion</h4>
    <div class='container mb-5'>
      <div class="accordion" id="accordionExample">
        <div class="accordion-item">
          <h2 class="accordion-header" id="headingOne">
            <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
              Accordion Item #1
            </button>
          </h2>
          <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne" data-bs-parent="#accordionExample">
            <div class="accordion-body">
              <strong>This is the first item's accordion body.</strong> It is hidden by default, until the collapse plugin adds the appropriate classes that we use to style each element. These classes control the overall appearance, as well as the showing and hiding via CSS transitions.
            </div>
          </div>
        </div>

        <div class="accordion-item">
          <h2 class="accordion-header" id="headingTwo">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
              Accordion Item #2
            </button>
          </h2>
          <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#accordionExample">
            <div class="accordion-body">
              <strong>This is the second item's accordion body.</strong> It is hidden by default, until the collapse plugin adds the appropriate classes that we use to style each element. These classes control the overall appearance, as well as the showing and hiding via CSS transitions.
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Tempat Komentar -->
    <section class="comments">
      <script src="https://utteranc.es/client.js"
              repo="lasus023-jpg/00"
              issue-term="pathname"
              theme="github-light"
              crossorigin="anonymous"
              async>
      </script>
    </section>

  <script>
    // Akses Elemen Dasar
    const body = document.body;
    const themeToggle = document.getElementById('theme-toggle');

    // Ambil Tema Awal dari LocalStorage
    const savedTheme = localStorage.getItem('theme') || 'github-light';
    if (savedTheme === 'github-dark') {
      body.classList.add('dark');
      themeToggle.textContent = '‚òÄÔ∏è Mode Terang';
    }

    // Simpan Tema Widget
    let currentTheme = savedTheme;

    // Fungsi untuk Mengganti Tema
    function switchTheme() {
      const commentsSection = document.querySelector('.comments');
      const oldScript = commentsSection.querySelector('script');

      // Toggle antara Tema Gelap/Terang
      if (currentTheme === 'github-light') {
        body.classList.add('dark');
        themeToggle.textContent = '‚òÄÔ∏è Mode Terang';

        // Ubah tema Utterances ke github-dark
        currentTheme = 'github-dark';
      } else {
        body.classList.remove('dark');
        themeToggle.textContent = 'üåô Mode Gelap';

        // Ubah tema Utterances ke github-light
        currentTheme = 'github-light';
      }

      // Ganti widget Utteranc.es dengan tema baru
      const newScript = document.createElement('script');
      newScript.src = 'https://utteranc.es/client.js';
      newScript.setAttribute('repo', 'lasus023-jpg/00');
      newScript.setAttribute('issue-term', 'pathname');
      newScript.setAttribute('theme', currentTheme);
      newScript.crossOrigin = 'anonymous';
      newScript.async = true;

      // Simpan Tema ke LocalStorage
      localStorage.setItem('theme', currentTheme);

      // Hapus Skrip Lama dan Tambahkan Skrip Baru
      commentsSection.removeChild(oldScript);
      commentsSection.appendChild(newScript);
    }

    // Tambahkan Event Listener untuk Tombol
    themeToggle.addEventListener('click', switchTheme);
  </script>
</body>
</html>
